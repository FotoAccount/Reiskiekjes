<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>Portret</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body { height: 100%; margin: 0; background:#000; color:#fff; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    a { color: #9ad; }
    /* Voor-scherm */
    .center { height: 100%; display: grid; place-items: center; gap: 1rem; text-align: center; padding: 1.2rem; }
    button { padding: .9rem 1.3rem; font-size: 1rem; border: 0; border-radius: .6rem; cursor: pointer; background:#fff; color:#000; }
    button:active { transform: scale(0.98); }
    /* Slideshow-scherm */
    #stage { display: none; height: 100%; width: 100%; position: relative; background:#000; }
    #img { width:100vw; height:100vh; object-fit: contain; background:#000; user-select:none; -webkit-user-drag:none; }
    .hint { position: fixed; bottom: 12px; left: 12px; font-size: .9rem; opacity: .7; background:rgba(0,0,0,.35); padding:.3rem .5rem; border-radius:.4rem; }
    .back { position: fixed; top: 12px; left: 12px; font-size:.95rem; opacity:.8; background:rgba(0,0,0,.35); padding:.35rem .55rem; border-radius:.4rem; }
  </style>
</head>
<body>
  <!-- Voor-scherm -->
  <div id="gate" class="center">
    <h1>Portret</h1>
    <p>Klaar voor fullscreen?</p>
    <button id="go" type="button">Go fullscreen</button>
    <p><a href="./">← Terug naar start</a></p>
  </div>

  <!-- Slideshow-scherm -->
  <div id="stage" aria-live="polite">
    <a class="back" href="./">← Terug</a>
    <img id="img" alt="Portretfoto" />
    <div class="hint">Swipe ↔︎ • tik = volgende • ←/→ toetsen • Esc = uit fullscreen</div>
  </div>

  <script>
    // --- 1) ZET HIER JE BESTANDSNAAMMEN ---
    const images = [
      "images/p1.jpg",
      "images/p2.jpg",
      "images/p3.jpg"
    ];

    // --- 2) Elementen + state ---
    let i = 0;
    const gate = document.getElementById('gate');
    const stage = document.getElementById('stage');
    const img = document.getElementById('img');
    const goBtn = document.getElementById('go');

    function showCurrent() {
      img.src = images[i];
    }
    function next() { i = (i + 1) % images.length; showCurrent(); }
    function prev() { i = (i - 1 + images.length) % images.length; showCurrent(); }

    // Feedback als laden faalt (vaak pad/naam fout)
    img.addEventListener('error', () => {
      alert('Kon deze foto niet laden: ' + images[i] + '\nCheck pad en bestandsnaam (hoofdletters tellen).');
    });

    // --- 3) Fullscreen starten op het STAGE-element (beter voor mobiel) ---
    async function enter() {
      gate.style.display = 'none';
      stage.style.display = 'block';
      showCurrent();

      const el = stage;
      const req = el.requestFullscreen || el.webkitRequestFullscreen || el.msRequestFullscreen;
      if (req) {
        try { await req.call(el); } catch (e) { /* gebruiker kan weigeren; site werkt ook zonder */ }
      }
    }
    goBtn.addEventListener('click', enter);

    // Klik/tap op afbeelding = volgende
    img.addEventListener('click', next);

    // Toetsenbord
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') next();
      if (e.key === 'ArrowLeft')  prev();
    });

    // --- 4) Touch / swipe support (mobiel) ---
    let startX = 0, startY = 0, startTime = 0;
    const SWIPE_PX = 40;      // minimaal horizontale beweging
    const TAP_PX = 10;        // max beweging om als 'tap' te tellen
    const TAP_MS = 600;       // max tijd voor tap

    img.addEventListener('touchstart', (e) => {
      const t = e.changedTouches[0];
      startX = t.clientX;
      startY = t.clientY;
      startTime = Date.now();
    }, { passive: true });

    img.addEventListener('touchend', (e) => {
      const t = e.changedTouches[0];
      const dx = t.clientX - startX;
      const dy = t.clientY - startY;
      const dt = Date.now() - startTime;

      // horizontale swipe
      if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > SWIPE_PX && dt < 1000) {
        if (dx < 0) next(); else prev();
        return;
      }
      // tap
      if (Math.abs(dx) < TAP_PX && Math.abs(dy) < TAP_PX && dt < TAP_MS) {
        next();
      }
    }, { passive: true });
  </script>
</body>
</html>
